(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{217:function(e,t,a){e.exports=a(372)},222:function(e,t,a){},223:function(e,t,a){},226:function(e,t,a){},368:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),o=a.n(l),c=(a(222),a(223),a(224),a(225),a(38)),i=a(47),s=a(23),u=a(24),m=a(26),p=a(25),d=a(27),h=a(389),v=a(380);a(226);var E=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/"},r.a.createElement("div",null,r.a.createElement("h2",null,e.title))))},g=a(34),b=a.n(g),f=a(45),y=a(33),k=a.n(y),C=a(387),S=a(92),w=a.n(S),O=(w()(),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).background={Low:"#000000",Medium:"#FFCC00",High:"#CC0000"},a.apiServer="https://socnet.pythonanywhere.com/",a.renderTableData=function(e){return e.map((function(e){var t=e[0],n=e[1],l=e[4],o=e[6],c=e[7],i=a.background;return r.a.createElement(C.a.Row,{onClick:function(){a.props.history.push("/thread/".concat(t))}},r.a.createElement(C.a.Cell,{style:{color:i[e[8]]}}," ",o," "),r.a.createElement(C.a.Cell,null," ",c," "),r.a.createElement(C.a.Cell,null," ",l," "),r.a.createElement(C.a.Cell,{textAlign:"right"}," ",n," "))}))},a.state={loadingData:!1,alerts:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=this.props.location.state.alerts,this.setState({alerts:t}),console.log("Prop value: ",this.props.location.state.alerts),console.log("Alerts State: ",this.state.alerts),e.next=20;break;case 7:return e.prev=7,e.t0=e.catch(0),e.prev=9,this.setState({loadingData:!0}),e.next=13,k.a.get("".concat(this.apiServer,"alerts"));case 13:a=e.sent,this.setState({loadingData:!1,alerts:a.data}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(9),console.log("Error while fetching alterts");case 20:case"end":return e.stop()}}),e,this,[[0,7],[9,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loadingData,a=e.alerts;return t?r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(v.a,{size:"massive"}," Loading: fetching alerts..")):r.a.createElement("div",{style:{padding:"2%"}},r.a.createElement(C.a,{fixed:!0,singleLine:!0,padded:!0,selectable:!0,color:"teal"},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.HeaderCell,null," Type "),r.a.createElement(C.a.HeaderCell,{width:6}," Description "),r.a.createElement(C.a.HeaderCell,null," Region "),r.a.createElement(C.a.HeaderCell,{textAlign:"right"}," Date ")),r.a.createElement(C.a.Body,null,this.renderTableData(a))))}}]),t}(n.Component)),j=Object(i.f)(O),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={loadingData:!1,alerts:[]},a.apiServer="https://socnet.pythonanywhere.com/",a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loadingData;e.alerts;return t?r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(v.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement(E,{title:"Socnet"}),r.a.createElement(c.b,{to:"/createAlert"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Create Alert"))," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(c.b,{to:"/"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Filter Results")),r.a.createElement(j,null))}}]),t}(n.Component),D=a(63),L=a(385),N=a(392),A=a(381),F=a(189);var R=function(e){e.label;var t=e.type,a=e.placeholder,n=e.propChanged,l=e.values,o=e.errorMessage;return"undefined"!==typeof l?r.a.createElement(A.a,{className:"mb-3"},r.a.createElement(F.a,{placeholder:a,as:t,onChange:n,required:!0},r.a.createElement("option",{key:"Choose..."},"Choose..."),l.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",null,o)):r.a.createElement(A.a,{className:"mb-3"},r.a.createElement(F.a,{placeholder:a,type:t,onChange:n,required:!0}))},T=a(127),M=a.n(T),H=a(394),Y=a(393),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).propChanged=function(e,t){var n=a.state.properties,r=e.target.value;console.log("props changed properties ",n),n[t].value=r,a.setState({payload:n})},a.handleSubmit=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("event is ",a.inputNode),console.log("before payload",a.state.payload),t.preventDefault(),n=a.state.payload,r=a.props.history,Object.keys(n).map((function(e){"event_severity"===e&&void 0===n[e].value?n[e]="Low":n[e]=n[e].value})),n.event_datetime=M()().format("YYYY/MM/DD h:mm:ss"),console.log("after payload",M()().format("YYYY/MM/DD h:mm:ss")),e.prev=8,e.next=11,k.a.post("".concat(a.apiServer,"alerts"),n);case 11:r.push("/alerts"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}(),a.formatItem=function(e){return e=e.includes("event")?e.substring(6,e.length):"sender's name"},a.formatType=function(e,t){return"undefined"===typeof t?"datetime"===e?"datetime-local":"text":"select"},a.firstLetterUpperCase=function(e){return e[0].toUpperCase()+e.slice(1)+": "},a.state={loadingData:!1,properties:{},requiredProperties:[],payload:{}},a.apiServer="https://socnet.pythonanywhere.com/",a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadingData:!0}),e.next=4,k.a.get("".concat(this.apiServer,"form"));case 4:t=e.sent,this.setState({properties:t.data.properties,requiredProperties:t.data.required,loadingData:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.properties,l=t.errorMessage;return a?r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(v.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement(H.a,{basic:!0,padded:!0},r.a.createElement(Y.a,{as:"h1"}," Create Alerts "),r.a.createElement(Y.a,null," Please help us stay safe by entering the information about the incident you wish to report.")),r.a.createElement(H.a,{padded:"very",raised:!0,color:"teal"},r.a.createElement(L.a,{className:"container-fluid mt-4",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("table",{align:"center",cellPadding:"5px"},r.a.createElement("tbody",null,Object.keys(n).map((function(t){if("event_datetime"!==t)return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",null," ",e.firstLetterUpperCase(e.formatItem(t))," ")),r.a.createElement("td",null,r.a.createElement(R,{label:e.formatItem(t),type:e.formatType(n[t].type,n[t].values),placeholder:n[t].example,propChanged:function(a){return e.propChanged(a,t)},values:n[t].values,key:e.formatItem(t),errorMessage:l})))})))),r.a.createElement(N.a,{type:"submit"}," Submit Alert  "))))}}]),t}(n.Component),P=a(68),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={eventDetails:a.props.data},a.background={Low:"light",Medium:"warning",High:"danger"},a.bgcolor={Low:"#FFFFFF",Medium:"#FFCC00",High:"#CC0000"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.eventDetails,t=this.props.linkable;return r.a.createElement(P.a,{className:"m-3"},r.a.createElement(P.a.Header,{style:{background:this.bgcolor[e[8]]},as:"h5"},e[6]),r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,e[7]),r.a.createElement(P.a.Text,null,"".concat(e[3],", ").concat(e[4]," ").concat(e[2],", ").concat(e[5]," at ").concat(e[1]),r.a.createElement("br",null),"Priority: ".concat(e[8]),r.a.createElement("br",null),"Author: ".concat(e[9])),t?r.a.createElement(c.b,{to:"/thread/".concat(this.props.id)},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"View Thread")):null))}}]),t}(n.Component),I=a(388),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).propChanged=function(e){var t=e.target.value;console.log(t);var n={text:t};a.setState({payload:n})},a.handleSubmit=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.payload,e.prev=2,a.setState({loadingData:!0}),console.log("".concat(a.apiServer,"threads/").concat(a.props.match.params.id)),e.next=7,k.a.put("".concat(a.apiServer,"threads/").concat(a.props.match.params.id),n);case 7:return r=e.sent,e.next=10,k.a.get("".concat(a.apiServer,"threads/").concat(a.props.match.params.id));case 10:r=e.sent,a.setState({comments:r.data,loadingData:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),a.state={loadingData:!1,comments:[],alert:[]},a.apiServer="https://socnet.pythonanywhere.com/",a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadingData:!0}),console.log(this.props),e.next=5,k.a.get("".concat(this.apiServer,"threads/").concat(this.props.match.params.id));case 5:return t=e.sent,e.next=8,k.a.get("".concat(this.apiServer,"alerts/").concat(this.props.match.params.id));case 8:a=e.sent,this.setState({comments:t.data,loadingData:!1,alert:a.data[0]}),console.log(this.state.comments),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error");case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.comments,l=t.alert;return a?r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(v.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"col-auto"},r.a.createElement(E,{title:"Socnet"}),r.a.createElement("div",{class:"form-check form-check-inline"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"option1"}),r.a.createElement("label",{class:"form-check-label",for:"inlineRadio1"},"1"))),r.a.createElement(q,{data:l,id:l[0]}),r.a.createElement(I.a,null,n.map((function(e,t){return r.a.createElement(I.a.Item,{key:t},e[Object.keys(e)[0]])}))),r.a.createElement(A.a,null,r.a.createElement(A.a.Prepend,null,r.a.createElement(A.a.Text,null,"Add a comment")),r.a.createElement(F.a,{onChange:this.propChanged,as:"textarea","aria-label":"Add a comment"}),r.a.createElement(N.a,{variant:"dark",type:"submit",onClick:function(t){return e.handleSubmit(t)}},"Submit Comment")))}}]),t}(n.Component),U=a(128),z=a(391),V=a(383),_=a(390),W=a(67),G=a(382),K=a(386),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isFetching:!1,multiple:!0,search:!0,value:[]},a.handleChange=function(e,t){var n=t.value;a.setState({value:n}),console.log(a.state.value)},a.handleClose=function(e,t){t.value;console.log(a.state.value),console.log("Name",a.props.placeholder),a.props.handleDropdown(a.props.placeholder,a.state.value)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isFetching,a=e.multiple,n=e.search,l=e.value;return r.a.createElement(K.a,{fluid:!0,selection:!0,disabled:t,loading:t,multiple:a,search:n,placeholder:"Select "+this.props.placeholder,options:this.props.options,noResultsMessage:"No results found.",onChange:this.handleChange,onClose:this.handleClose,selectOnNavigation:!1,value:l})}}]),t}(n.Component),Q=(a(368),w()(),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,date:"",severity:[],type:[],region:[]},a.apiServer="https://socnet.pythonanywhere.com/",a.severityList={name:"severity",type:"dropdown",optionList:[{key:"H",text:"High",value:"high"},{key:"L",text:"Low",value:"low"},{key:"M",text:"Medium",value:"medium"}]},a.regionList={name:"region",type:"dropdown",optionList:[{key:"NY",text:"NY - New York",value:"NY"},{key:"NJ",text:"NJ - New Jersey",value:"NJ"},{key:"CT",text:"CT - Conneticut",value:"CT"}]},a.typeList={name:"type",type:"dropdown",optionList:[{key:"Fire",text:"Fire",value:"Fire"},{key:"Earthquake",text:"Earthquake",value:"Earthquake"},{key:"Ransomware",text:"Ransomware",value:"Ransomware"}]},a.handleDropdown=function(e,t){a.setState(Object(U.a)({},e,t),(function(){console.log(e,t),console.log("Data changed by dropdown"),console.log(a.state.severity)}))},a.handleBack=function(){a.props.history.push("/main")},a.handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(U.a)({},n,r))},a.handleValidation=function(e){return!!(e.date||e.severity.length>0||e.type.length>0||e.region.length>0)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=(t.loading,t.date),r=t.severity,l=t.type,o=t.region,c=(a.apiServer,{date:n,severity:r,type:l,region:o});if(a.handleValidation(c)){console.log("Form had entries.");try{k.a.get("".concat(a.apiServer,"alerts")).then((function(e){a.setState({loading:!1}),a.props.history.push("/alerts",{alerts:e.data})}))}catch(e){console.log("ERROR: UNABLE TO FETCH FILTERED RESULTS")}}else{console.log("The form had no entries. Attempting to load all alerts.");try{k.a.get("".concat(a.apiServer,"alerts")).then((function(e){a.setState({loading:!1}),console.log("Alerts loaded. Payload looks like: ",e.data),a.props.history.push("/alerts",{alerts:e.data})}))}catch(e){console.log("ERROR: UNABLE TO GET ALL RESULTS.")}}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.severity,l=t.date,o=t.region,c=t.type;return a?r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(v.a,{size:"massive"}," Loading: fetching alerts..")):r.a.createElement("div",null,r.a.createElement(H.a,{basic:!0,padded:!0}," ",r.a.createElement(Y.a,{as:"h1"}," Filter Alerts ")," "),r.a.createElement(H.a,{padded:"very",raised:!0,color:"teal"},r.a.createElement(z.a,{centered:!0},r.a.createElement(V.a,{loading:a,onSubmit:this.handleSubmit.bind(this),size:"large",style:{width:"60%"}},r.a.createElement("table",{align:"center",className:"filters",cellPadding:"5px"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("label",null," Since (Date): "),"  "),r.a.createElement("td",null,r.a.createElement("input",{type:"date",placeholder:"mm/dd/yyyy",onChange:function(t){return e.setState({date:t.target.value})}}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("label",null," Severity: ")," "),r.a.createElement("td",null,r.a.createElement($,{placeholder:this.severityList.name,options:this.severityList.optionList,handleDropdown:this.handleDropdown}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("label",null," Type: ")," "),r.a.createElement("td",null,r.a.createElement($,{placeholder:this.typeList.name,options:this.typeList.optionList,handleDropdown:this.handleDropdown}))),r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("label",null," Region: ")),r.a.createElement("td",null,r.a.createElement($,{placeholder:this.regionList.name,options:this.regionList.optionList,handleDropdown:this.handleDropdown}))))),r.a.createElement("br",null),r.a.createElement(_.a,{animated:!0,onClick:function(t){return e.handleBack.bind(e)}},r.a.createElement(_.a.Content,{visible:!0}," Back "),r.a.createElement(_.a.Content,{hidden:!0},r.a.createElement(W.a,{name:"arrow left"}))),r.a.createElement(_.a,{type:"submit",animated:!0},r.a.createElement(_.a.Content,{visible:!0},"Submit"),r.a.createElement(_.a.Content,{hidden:!0},r.a.createElement(W.a,{name:"arrow right"})))))),r.a.createElement("br",null),r.a.createElement("strong",null," LEAVE BLANK FOR ALL "),r.a.createElement(G.a,null),r.a.createElement("strong",null," For testing before backend integration "),r.a.createElement("pre",null,JSON.stringify({severity:n,date:l,region:o,type:c})))}}]),t}(n.Component)),X=Object(i.f)(Q);var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:X}),r.a.createElement(i.a,{exact:!0,path:"/alerts",component:x}),r.a.createElement(i.a,{exact:!0,path:"/createAlert",component:B}),r.a.createElement(i.a,{exact:!0,path:"/thread/:id",component:J}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[217,1,2]]]);
//# sourceMappingURL=main.a06e8134.chunk.js.map