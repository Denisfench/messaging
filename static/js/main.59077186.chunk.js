(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{212:function(e,t,a){e.exports=a(363)},217:function(e,t,a){},218:function(e,t,a){},239:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(54),o=a.n(l),c=(a(217),a(218),a(219),a(220),a(43)),i=a(48),s=a(27),u=a.n(s),m=a(22),d=a(23),p=a(24),h=a(25),v=a(26),b=a(38),g=a.n(b),f=a(378),E=a(371);a(239);var y=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/"},r.a.createElement("div",null,r.a.createElement("h2",null,e.title))))},w=a(66),S=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={eventDetails:a.props.data},a.background={Low:"light",Medium:"warning",High:"danger"},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.eventDetails,t=this.props.linkable;return r.a.createElement(w.a,{bg:this.background[e[8]],className:"m-3"},r.a.createElement(w.a.Header,{as:"h5"},e[6]),r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Title,null,e[7]),r.a.createElement(w.a.Text,null,"".concat(e[3],", ").concat(e[4]," ").concat(e[2],", ").concat(e[5]," at ").concat(e[1]),r.a.createElement("br",null),"Priority: ".concat(e[8]),r.a.createElement("br",null),"Author: ".concat(e[9])),t?r.a.createElement(c.b,{to:"/thread/".concat(this.props.id)},r.a.createElement("button",{type:"button",className:"btn btn-dark"},"View Thread")):null))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={loadingData:!1,alerts:[]},a.apiServer="https://socnet.pythonanywhere.com/",a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setState({loadingData:!0}),t.next=4,u.a.awrap(g.a.get("".concat(this.apiServer,"alerts")));case 4:e=t.sent,this.setState({alerts:e.data,loadingData:!1}),console.log(this.state),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error");case 12:case"end":return t.stop()}}),null,this,[[0,9]])}},{key:"render",value:function(){var e=this.state,t=e.loadingData,a=e.alerts;return t?r.a.createElement(f.a,{active:!0,inverted:!0},r.a.createElement(E.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement(y,{title:"Socnet"}),r.a.createElement(c.b,{to:"/createAlert"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Create Alert"))," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(c.b,{to:"/filterAlert"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Filter Results")),a.map((function(e){return r.a.createElement(S,{data:e,key:e[0],id:e[0],linkable:!0})})))}}]),t}(n.Component),O=a(37),j=a(375),D=a(380),x=a(372),C=a(184);var L=function(e){var t=e.label,a=e.type,n=e.placeholder,l=e.propChanged,o=e.values,c=e.errorMessage;return"undefined"!==typeof o?r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,{id:"basic-addon1"},t)),r.a.createElement(C.a,{placeholder:n,as:a,onChange:l,required:!0},r.a.createElement("option",{key:"Choose..."},"Choose..."),o.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",null,c)):r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,{id:"basic-addon1"},t)),r.a.createElement(C.a,{placeholder:n,type:a,onChange:l,required:!0}))},N=a(123),A=a.n(N),M=a(382),F=a(383),T=a(65),Y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).propChanged=function(e,t){var n=a.state.properties,r=e.target.value;console.log("props changed properties ",n),n[t].value=r,a.setState({payload:n})},a.handleSubmit=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("event is ",a.inputNode),console.log("before payload",a.state.payload),e.preventDefault(),t=a.state.payload,n=a.props.history,Object.keys(t).map((function(e){"event_severity"===e&&void 0===t[e].value?t[e]="Low":t[e]=t[e].value})),t.event_datetime=A()().format("YYYY/MM/DD h:mm:ss"),console.log("after payload",A()().format("YYYY/MM/DD h:mm:ss")),r.prev=8,r.next=11,u.a.awrap(g.a.post("".concat(a.apiServer,"alerts"),t));case 11:n.push("/"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(8),console.log(r.t0);case 17:case"end":return r.stop()}}),null,null,[[8,14]])},a.formatItem=function(e){return e=e.includes("event")?e.substring(6,e.length):"sender's name"},a.formatType=function(e,t){return"undefined"===typeof t?"datetime"===e?"datetime-local":"text":"select"},a.state={loadingData:!1,properties:{},requiredProperties:[],payload:{}},a.apiServer="https://socnet.pythonanywhere.com/",a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setState({loadingData:!0}),t.next=4,u.a.awrap(g.a.get("".concat(this.apiServer,"form")));case 4:e=t.sent,this.setState({properties:e.data.properties,requiredProperties:e.data.required,loadingData:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error");case 11:case"end":return t.stop()}}),null,this,[[0,8]])}},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.properties,l=t.errorMessage;return a?r.a.createElement(f.a,{active:!0,inverted:!0},r.a.createElement(E.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container mt-5"},r.a.createElement(M.a,{placeholder:!0},r.a.createElement(F.a,{icon:!0},r.a.createElement(T.a,{name:"shield alternate",circular:!0}),"Please help us stay safe by entering the information about the incident you wish to report."))),r.a.createElement(j.a,{className:"container-fluid mt-4",onSubmit:function(t){return e.handleSubmit(t)}},Object.keys(n).map((function(t){if("event_datetime"!==t)return r.a.createElement(L,{label:e.formatItem(t),type:e.formatType(n[t].type,n[t].values),placeholder:n[t].example,propChanged:function(a){return e.propChanged(a,t)},values:n[t].values,key:e.formatItem(t),errorMessage:l})})),r.a.createElement(D.a,{variant:"dark",type:"submit"},"Submit Alert")))}}]),t}(n.Component),B=a(376),P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).propChanged=function(e){var t=e.target.value;console.log(t);var n={text:t};a.setState({payload:n})},a.handleSubmit=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.state.payload,r.prev=2,a.setState({loadingData:!0}),console.log("".concat(a.apiServer,"threads/").concat(a.props.match.params.id)),r.next=7,u.a.awrap(g.a.put("".concat(a.apiServer,"threads/").concat(a.props.match.params.id),t));case 7:return n=r.sent,r.next=10,u.a.awrap(g.a.get("".concat(a.apiServer,"threads/").concat(a.props.match.params.id)));case 10:n=r.sent,a.setState({comments:n.data,loadingData:!1}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(2),console.log(r.t0);case 17:case"end":return r.stop()}}),null,null,[[2,14]])},a.state={loadingData:!1,comments:[],alert:[]},a.apiServer="https://socnet.pythonanywhere.com/",a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,this.setState({loadingData:!0}),console.log(this.props),a.next=5,u.a.awrap(g.a.get("".concat(this.apiServer,"threads/").concat(this.props.match.params.id)));case 5:return e=a.sent,a.next=8,u.a.awrap(g.a.get("".concat(this.apiServer,"alerts/").concat(this.props.match.params.id)));case 8:t=a.sent,this.setState({comments:e.data,loadingData:!1,alert:t.data[0]}),console.log(this.state.comments),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log("error");case 16:case"end":return a.stop()}}),null,this,[[0,13]])}},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingData,n=t.comments,l=t.alert;return a?r.a.createElement(f.a,{active:!0,inverted:!0},r.a.createElement(E.a,{size:"massive"},"Loading")):r.a.createElement("div",{className:"container"},r.a.createElement(y,{title:"Socnet"}),r.a.createElement(S,{data:l,id:l[0]}),r.a.createElement(B.a,null,n.map((function(e,t){return r.a.createElement(B.a.Item,{key:t},e[Object.keys(e)[0]])}))),r.a.createElement(x.a,null,r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Add a comment")),r.a.createElement(C.a,{onChange:this.propChanged,as:"textarea","aria-label":"Add a comment"}),r.a.createElement(D.a,{variant:"dark",type:"submit",onClick:function(t){return e.handleSubmit(t)}},"Submit Comment")))}}]),t}(n.Component),q=a(35),I=a(384),z=a(374),H=a(379),R=a(373),J=a(377),_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isFetching:!1,multiple:!0,search:!0,value:[]},a.handleChange=function(e,t){var n=t.value;a.setState({value:n}),console.log(a.state.value)},a.handleClose=function(e,t){t.value;console.log(a.state.value),console.log("Name",a.props.placeholder),a.props.handleDropdown(a.props.placeholder,a.state.value)},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isFetching,a=e.multiple,n=e.search,l=e.value;return r.a.createElement(J.a,{fluid:!0,selection:!0,disabled:t,loading:t,multiple:a,search:n,placeholder:"Select "+this.props.placeholder,options:this.props.options,noResultsMessage:"No results found.",onChange:this.handleChange,onClose:this.handleClose,selectOnNavigation:!1,value:l})}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,severity:[],date:"",region:[],type:[]},a.apiServer="https://socnet.pythonanywhere.com/",a.severityList={name:"severity",type:"dropdown",optionList:[{key:"H",text:"High",value:"high"},{key:"L",text:"Low",value:"low"},{key:"M",text:"Medium",value:"medium"}]},a.handleDropdown=function(e,t){a.setState(Object(q.a)({},e,t),(function(){console.log(e,t),console.log("Data changed by dropdown"),console.log(a.state.severity)}))},a.handleBack=function(){window.location.href="/"},a.handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(q.a)({},n,r))},a.handleSubmit=function(){var e=a.state,t=(e.loading,e.field1),n=e.field2,r=e.field3,l=e.field4;a.setState({severity:t,date:n,region:r,type:l}),window.location.href="/"},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.severity,l=t.date,o=t.region,c=t.type;return r.a.createElement("div",null,r.a.createElement(M.a,{basic:!0,padded:!0}," ",r.a.createElement(F.a,{as:"h1"}," Filter Alerts ")," "),r.a.createElement(M.a,{padded:"very",raised:!0,color:"teal"},r.a.createElement(I.a,{className:"center aligned"},r.a.createElement(z.a,{loading:a,onSubmit:this.handleSubmit,size:"large",style:{width:"60%"}},r.a.createElement(z.a.Field,null,r.a.createElement("label",null," Since (Date)"),r.a.createElement("input",{type:"date",onChange:function(t){return e.setState({date:t.target.value})},value:this.state.date})),r.a.createElement(z.a.Field,{inline:!0},r.a.createElement("label",null," Severity "),r.a.createElement(_,{placeholder:this.severityList.name,options:this.severityList.optionList,handleDropdown:this.handleDropdown})),r.a.createElement(z.a.Field,{inline:!0},r.a.createElement("label",null," Region "),r.a.createElement(_,{placeholder:this.severityList.name,options:this.severityList.optionList,handleDropdown:this.handleDropdown})),r.a.createElement(z.a.Field,{inline:!0},r.a.createElement("label",null," Type "),r.a.createElement(_,{placeholder:this.severityList.name,options:this.severityList.optionList,handleDropdown:this.handleDropdown})),r.a.createElement(H.a,{animated:!0,onClick:function(t){return e.handleBack(t)}},r.a.createElement(H.a.Content,{visible:!0}," Back "),r.a.createElement(H.a.Content,{hidden:!0},r.a.createElement(T.a,{name:"arrow left"}))),r.a.createElement(H.a,{type:"submit",animated:!0},r.a.createElement(H.a.Content,{visible:!0},"Submit"),r.a.createElement(H.a.Content,{hidden:!0},r.a.createElement(T.a,{name:"arrow right"})))))),r.a.createElement("br",null),r.a.createElement("strong",null," LEAVE BLANK FOR ALL "),r.a.createElement(R.a,null),r.a.createElement("strong",null," For testing before backend integration "),r.a.createElement("pre",null,JSON.stringify({severity:n,date:l,region:o,type:c})))}}]),t}(n.Component);var W=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:k}),r.a.createElement(i.a,{exact:!0,path:"/createAlert",component:Y}),r.a.createElement(i.a,{exact:!0,path:"/thread/:id",component:P}),r.a.createElement(i.a,{exact:!0,path:"/filterAlert",component:V}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[212,1,2]]]);
//# sourceMappingURL=main.59077186.chunk.js.map